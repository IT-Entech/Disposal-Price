const _0x165a9a=_0x42f5;(function(_0x764ae6,_0x1d2a44){const _0x5abdb0=_0x42f5,_0x3b82cd=_0x764ae6();while(!![]){try{const _0x1bc370=-parseInt(_0x5abdb0(0x1ce))/0x1+-parseInt(_0x5abdb0(0x1ef))/0x2*(-parseInt(_0x5abdb0(0x1f3))/0x3)+-parseInt(_0x5abdb0(0x1f7))/0x4*(parseInt(_0x5abdb0(0x1fa))/0x5)+-parseInt(_0x5abdb0(0x1d2))/0x6+-parseInt(_0x5abdb0(0x1de))/0x7*(-parseInt(_0x5abdb0(0x1c2))/0x8)+-parseInt(_0x5abdb0(0x1b9))/0x9+parseInt(_0x5abdb0(0x1b1))/0xa;if(_0x1bc370===_0x1d2a44)break;else _0x3b82cd['push'](_0x3b82cd['shift']());}catch(_0x5b44cb){_0x3b82cd['push'](_0x3b82cd['shift']());}}}(_0x202b,0xdbeed));function _0x202b(){const _0x2da047=['find','TravelMode','511804nNzFbP','getElementById','setBounds','lng','638382AivvGJ','coordinates','\x20km','json','geometry','SearchBox','length','WasteCode\x20is\x20empty,\x20fetch\x20not\x20triggered.','name','filter','catch','push','7wAIDuy','Error\x20fetching\x20coordinates:','head','then','union','Error\x20calculating\x20distance\x20from\x20destination\x20to\x20destination2:\x20','viewport','all','forEach','createElement','Shortest\x20Route\x20is\x20via\x20Destination2\x20with\x20coordinates\x20(','location','getPlaces','function','elements','../fetch-coordinate.php','distance3','687118aVLMSK','map','LatLngBounds','pac-input','3byOFDe','lat','bounds_changed','DRIVING','1532552igPODJ','METRIC','trim','20oeGEWP','change','Shortest\x20Supplier\x20Code:\x20','setMap','Error\x20calculating\x20distance\x20from\x20origin\x20to\x20destination:\x20','rows','UnitSystem','fitBounds','Invalid\x20destination\x20coordinates\x20in\x20savedCoordinates.','maps','15566830AYDkNl','appendChild','append','click','value','Total\x20Distance\x20for\x20Route\x20','equals','latLng','5780025elINVb','addListener','log','No\x20coordinates\x20found\x20for\x20the\x20selected\x20WasteCode.','getDistanceMatrix','script','error','getPosition','distance','14348648tOLDAE','defer','DistanceMatrixService','toFixed','WasteCode','POST','src','status','Error\x20calculating\x20distance\x20from\x20destination2\x20back\x20to\x20origin:\x20','Shortest\x20Total\x20Distance:\x20'];_0x202b=function(){return _0x2da047;};return _0x202b();}const WastecodeInput=document['getElementById'](_0x165a9a(0x1c6));WastecodeInput['addEventListener'](_0x165a9a(0x1fb),function(){const _0x16aa6c=_0x165a9a,_0x4032ce=this[_0x16aa6c(0x1b5)][_0x16aa6c(0x1f9)]();if(_0x4032ce!==''){const _0xeaba29=new FormData();_0xeaba29[_0x16aa6c(0x1b3)]('WasteCode',_0x4032ce),fetch(_0x16aa6c(0x1ed),{'method':_0x16aa6c(0x1c7),'body':_0xeaba29})[_0x16aa6c(0x1e1)](_0x5952a2=>_0x5952a2[_0x16aa6c(0x1d5)]())['then'](_0xa7469=>{const _0x1944d8=_0x16aa6c;if(_0xa7469[_0x1944d8(0x1bf)])console[_0x1944d8(0x1bf)](_0x1944d8(0x1df),_0xa7469['error']);else{const _0x34c789=_0xa7469[_0x1944d8(0x1d3)];_0x34c789[_0x1944d8(0x1d8)]>0x0?Des2(_0xa7469):console[_0x1944d8(0x1bb)](_0x1944d8(0x1bc));}})[_0x16aa6c(0x1dc)](_0x16c71b=>{const _0x419382=_0x16aa6c;console[_0x419382(0x1bf)]('Error\x20during\x20fetch:',_0x16c71b);});}else console['log'](_0x16aa6c(0x1d9));});let map,markers=[],savedCoordinates=[];function initMap(){const _0x38a0ac=_0x165a9a,_0x3ff33c={'lat':13.736717,'lng':100.523186};map=new google[(_0x38a0ac(0x203))]['Map'](document[_0x38a0ac(0x1cf)]('map'),{'center':_0x3ff33c,'zoom':0xa});const _0x22824e=document[_0x38a0ac(0x1cf)](_0x38a0ac(0x1f2)),_0x468255=new google['maps']['places'][(_0x38a0ac(0x1d7))](_0x22824e);map['addListener'](_0x38a0ac(0x1f5),function(){const _0x3f259f=_0x38a0ac;_0x468255[_0x3f259f(0x1d0)](map['getBounds']());}),_0x468255[_0x38a0ac(0x1ba)]('places_changed',function(){const _0x4c0dfe=_0x38a0ac,_0x3a72d7=_0x468255[_0x4c0dfe(0x1ea)]();if(_0x3a72d7[_0x4c0dfe(0x1d8)]==0x0)return;clearMarkers();const _0x55dd06=new google[(_0x4c0dfe(0x203))][(_0x4c0dfe(0x1f1))]();_0x3a72d7[_0x4c0dfe(0x1e6)](function(_0x4b9d85){const _0x2fc19e=_0x4c0dfe;if(!_0x4b9d85[_0x2fc19e(0x1d6)]||!_0x4b9d85['geometry'][_0x2fc19e(0x1e9)]){console[_0x2fc19e(0x1bb)]('สถานที่ไม่สามารถแสดงพิกัดได้');return;}savedCoordinates=[_0x4b9d85[_0x2fc19e(0x1d6)][_0x2fc19e(0x1e9)]];const _0x2eecaa=new google[(_0x2fc19e(0x203))]['Marker']({'map':map,'position':_0x4b9d85[_0x2fc19e(0x1d6)][_0x2fc19e(0x1e9)],'title':_0x4b9d85[_0x2fc19e(0x1da)]});markers[_0x2fc19e(0x1dd)](_0x2eecaa),_0x4b9d85[_0x2fc19e(0x1d6)][_0x2fc19e(0x1e4)]?_0x55dd06[_0x2fc19e(0x1e2)](_0x4b9d85[_0x2fc19e(0x1d6)][_0x2fc19e(0x1e4)]):_0x55dd06['extend'](_0x4b9d85[_0x2fc19e(0x1d6)]['location']),calculateDistances();}),map[_0x4c0dfe(0x201)](_0x55dd06);}),map[_0x38a0ac(0x1ba)](_0x38a0ac(0x1b4),function(_0x3c9482){const _0x330400=_0x38a0ac;addMarker(_0x3c9482[_0x330400(0x1b8)]);});}function toggleMarker(_0x351ee4){const _0x4884cd=_0x165a9a,_0x2f37fe=markers[_0x4884cd(0x1cc)](_0x50660c=>{const _0x5e5726=_0x4884cd;return _0x50660c[_0x5e5726(0x1c0)]()[_0x5e5726(0x1b7)](_0x351ee4);});_0x2f37fe?(_0x2f37fe[_0x4884cd(0x1fd)](null),markers=markers[_0x4884cd(0x1db)](_0x3f90c2=>_0x3f90c2!==_0x2f37fe),savedCoordinates=savedCoordinates['filter'](_0x1c6705=>_0x1c6705!==_0x351ee4)):addMarker(_0x351ee4),calculateDistances();}function addMarker(_0x346c8e){const _0x521caf=_0x165a9a;markers[_0x521caf(0x1e6)](_0x20d818=>_0x20d818[_0x521caf(0x1fd)](null)),markers=[];const _0x3393e1=new google[(_0x521caf(0x203))]['Marker']({'position':_0x346c8e,'map':map});markers['push'](_0x3393e1),savedCoordinates[_0x521caf(0x1dd)](_0x346c8e),calculateDistances();}function clearMarkers(){const _0x3027b1=_0x165a9a;markers[_0x3027b1(0x1e6)](_0x3edae1=>_0x3edae1[_0x3027b1(0x1fd)](null)),markers=[];}let desCoordinates=[],destination2Array=[],supplierCodesArray=[],closestSupplierCode=null;function _0x42f5(_0x184f71,_0x50858f){const _0x202b0a=_0x202b();return _0x42f5=function(_0x42f524,_0x574383){_0x42f524=_0x42f524-0x1b1;let _0x2fc784=_0x202b0a[_0x42f524];return _0x2fc784;},_0x42f5(_0x184f71,_0x50858f);}function Des2(_0x1c4816){const _0x4ed484=_0x165a9a,_0x3bd5e9=_0x1c4816['supplier_codes'],_0x200b8a=_0x1c4816[_0x4ed484(0x1d3)];desCoordinates=_0x200b8a,destination2Array=_0x200b8a[_0x4ed484(0x1f0)](_0x3e9495=>({'lat':parseFloat(_0x3e9495['latitude']),'lng':parseFloat(_0x3e9495['longitude'])})),supplierCodesArray=_0x3bd5e9,calculateDistances();}function calculateDistances(){const _0x3d5831=_0x165a9a,_0x19d9fd={'lat':13.5619,'lng':100.653328},_0x17d61c=savedCoordinates[savedCoordinates['length']-0x1];let _0x2d80a5=null,_0x15608d=null;closestSupplierCode=null;const _0x5d3aa2=new google['maps'][(_0x3d5831(0x1c4))]();if(!_0x17d61c||typeof _0x17d61c[_0x3d5831(0x1f4)]!==_0x3d5831(0x1eb)||typeof _0x17d61c[_0x3d5831(0x1d1)]!==_0x3d5831(0x1eb)){console[_0x3d5831(0x1bf)](_0x3d5831(0x202));return;}console[_0x3d5831(0x1bb)]('Destination\x20Coordinates:\x20',_0x17d61c[_0x3d5831(0x1f4)](),_0x17d61c[_0x3d5831(0x1d1)]());const _0x53f6b=destination2Array[_0x3d5831(0x1f0)]((_0x3e7866,_0x3986e9)=>{let _0x23a9d5=0x0;return new Promise((_0x1f1fd6,_0x365258)=>{const _0x3761ee=_0x42f5;_0x5d3aa2[_0x3761ee(0x1bd)]({'origins':[_0x19d9fd],'destinations':[_0x17d61c],'travelMode':google[_0x3761ee(0x203)][_0x3761ee(0x1cd)][_0x3761ee(0x1f6)],'unitSystem':google['maps']['UnitSystem'][_0x3761ee(0x1f8)]},function(_0x5644ad,_0x1e6d1a){const _0x316d0a=_0x3761ee;if(_0x1e6d1a!=='OK')_0x365258(_0x316d0a(0x1fe)+_0x1e6d1a);else{const _0x2c62e3=_0x5644ad[_0x316d0a(0x1ff)][0x0]['elements'][0x0];if(_0x2c62e3[_0x316d0a(0x1c9)]==='OK'){const _0x5cfef6=_0x2c62e3[_0x316d0a(0x1c1)][_0x316d0a(0x1b5)];_0x23a9d5+=_0x5cfef6,_0x5d3aa2[_0x316d0a(0x1bd)]({'origins':[_0x17d61c],'destinations':[_0x3e7866],'travelMode':google[_0x316d0a(0x203)][_0x316d0a(0x1cd)]['DRIVING'],'unitSystem':google['maps'][_0x316d0a(0x200)]['METRIC']},function(_0x12208c,_0x31c271){const _0x2feca5=_0x316d0a;if(_0x31c271!=='OK')_0x365258(_0x2feca5(0x1e3)+_0x31c271);else{const _0x2f7b0b=_0x12208c[_0x2feca5(0x1ff)][0x0][_0x2feca5(0x1ec)][0x0];if(_0x2f7b0b[_0x2feca5(0x1c9)]==='OK'){const _0x3488c9=_0x2f7b0b[_0x2feca5(0x1c1)][_0x2feca5(0x1b5)];_0x23a9d5+=_0x3488c9,_0x5d3aa2['getDistanceMatrix']({'origins':[_0x3e7866],'destinations':[_0x19d9fd],'travelMode':google[_0x2feca5(0x203)][_0x2feca5(0x1cd)][_0x2feca5(0x1f6)],'unitSystem':google[_0x2feca5(0x203)][_0x2feca5(0x200)][_0x2feca5(0x1f8)]},function(_0x413bfa,_0x5b81ae){const _0x40f02e=_0x2feca5;if(_0x5b81ae!=='OK')_0x365258(_0x40f02e(0x1ca)+_0x5b81ae);else{const _0x1e6c72=_0x413bfa[_0x40f02e(0x1ff)][0x0][_0x40f02e(0x1ec)][0x0];if(_0x1e6c72['status']==='OK'){const _0x5351f5=_0x1e6c72[_0x40f02e(0x1c1)]['value'];_0x23a9d5+=_0x5351f5;const _0x49cc7d=(_0x23a9d5/0x3e8)[_0x40f02e(0x1c5)](0x2);console[_0x40f02e(0x1bb)](_0x40f02e(0x1b6)+(_0x3986e9+0x1)+':\x20'+_0x49cc7d+'\x20km'),_0x1f1fd6({'totalDistance':_0x23a9d5,'index':_0x3986e9});}}});}}});}}});});});Promise[_0x3d5831(0x1e5)](_0x53f6b)['then'](_0x588f54=>{const _0x364e99=_0x3d5831;_0x588f54[_0x364e99(0x1e6)](({totalDistance:_0x46cfd3,index:_0x445c33})=>{(_0x2d80a5===null||_0x46cfd3<_0x2d80a5)&&(_0x2d80a5=_0x46cfd3,_0x15608d=destination2Array[_0x445c33],closestSupplierCode=supplierCodesArray[_0x445c33]);});const _0xab116d=(_0x2d80a5/0x3e8)['toFixed'](0x2);console[_0x364e99(0x1bb)](_0x364e99(0x1e8)+_0x15608d[_0x364e99(0x1f4)]+',\x20'+_0x15608d[_0x364e99(0x1d1)]+')'),console[_0x364e99(0x1bb)](_0x364e99(0x1cb)+_0xab116d+'\x20km'),document[_0x364e99(0x1cf)](_0x364e99(0x1ee))['value']=_0xab116d+_0x364e99(0x1d4),console[_0x364e99(0x1bb)](_0x364e99(0x1fc)+closestSupplierCode),document[_0x364e99(0x1cf)](_0x364e99(0x1f4))[_0x364e99(0x1b5)]=_0x15608d[_0x364e99(0x1f4)],document[_0x364e99(0x1cf)](_0x364e99(0x1d1))[_0x364e99(0x1b5)]=_0x15608d[_0x364e99(0x1d1)];})[_0x3d5831(0x1dc)](_0x47aead=>{const _0x1ca57c=_0x3d5831;console[_0x1ca57c(0x1bf)](_0x47aead);});}function loadGoogleMapsScript(){const _0x4a6a53=_0x165a9a,_0x16f216=document[_0x4a6a53(0x1e7)](_0x4a6a53(0x1be));_0x16f216[_0x4a6a53(0x1c8)]='https://maps.googleapis.com/maps/api/js?key=AIzaSyBEb-3ICrtUlo5JtHx0craCNS4yHCkJ95M&libraries=places&callback=initMap',_0x16f216['async']=!![],_0x16f216[_0x4a6a53(0x1c3)]=!![],document[_0x4a6a53(0x1e0)][_0x4a6a53(0x1b2)](_0x16f216);}loadGoogleMapsScript();